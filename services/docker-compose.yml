version: '3.8'
services:
  nginx:
    build:
      context: .
      dockerfile: nginx.Dockerfile
    ports:
    - 80:80
    restart: always
    networks:
    - fe_service
  jenkins:
    build:
      context: .
      dockerfile: jenkins.Dockerfile
    ports:
    - 8080:8080
    restart: always
    networks:
    - fe_service
  npm:
    container_name: npm
    build:
      context: .
      dockerfile: npm.Dockerfile
    ports:
    - 4873:4873
    restart: always
    volumes:
    - /home/fe_service/storage:/verdaccio/storage
    - /home/fe_service/conf:/verdaccio/conf
    - /home/fe_service/plugins:/verdaccio/plugins
    networks:
    - fe_service
networks:
  fe_service:
    driver: bridge
    name: fe_service
